<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Data.Vector.Algorithms.AmericanFlag</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Data-Vector-Algorithms-AmericanFlag.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">vector-algorithms-0.7.0.1: Efficient algorithms for vector arrays</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>(c) 2011 Dan Doel</td></tr><tr><th>Maintainer</th><td>Dan Doel &lt;dan.doel@gmail.com&gt;</td></tr><tr><th>Stability</th><td>Experimental</td></tr><tr><th>Portability</th><td>Non-portable (FlexibleContexts, ScopedTypeVariables)</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell98</td></tr></table><p class="caption">Data.Vector.Algorithms.AmericanFlag</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module implements American flag sort: an in-place, unstable, bucket
 sort. Also in contrast to radix sort, the values are inspected in a big
 endian order, and buckets are sorted via recursive splitting. This,
 however, makes it sensible for sorting strings in lexicographic order
 (provided indexing is fast).</p><p>The algorithm works as follows: at each stage, the array is looped over,
 counting the number of elements for each bucket. Then, starting at the
 beginning of the array, elements are permuted in place to reside in the
 proper bucket, following chains until they reach back to the current
 base index. Finally, each bucket is sorted recursively. This lends itself
 well to the aforementioned variable-length strings, and so the algorithm
 takes a stopping predicate, which is given a representative of the stripe,
 rather than running for a set number of iterations.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:sort">sort</a> :: <span class="keyword">forall</span> e m v. (<a href="../primitive-0.6.1.0/Control-Monad-Primitive.html#t:PrimMonad">PrimMonad</a> m, <a href="../vector-0.11.0.0/Data-Vector-Generic-Mutable-Base.html#t:MVector">MVector</a> v e, <a href="Data-Vector-Algorithms-AmericanFlag.html#t:Lexicographic">Lexicographic</a> e, <a href="../base-4.8.2.0/Data-Ord.html#t:Ord">Ord</a> e) =&gt; v (<a href="../primitive-0.6.1.0/Control-Monad-Primitive.html#t:PrimState">PrimState</a> m) e -&gt; m ()</li><li class="src short"><a href="#v:sortBy">sortBy</a> :: (<a href="../primitive-0.6.1.0/Control-Monad-Primitive.html#t:PrimMonad">PrimMonad</a> m, <a href="../vector-0.11.0.0/Data-Vector-Generic-Mutable-Base.html#t:MVector">MVector</a> v e) =&gt; <a href="Data-Vector-Algorithms-Search.html#t:Comparison">Comparison</a> e -&gt; (e -&gt; <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a>) -&gt; <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a> -&gt; (<a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a> -&gt; e -&gt; <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>) -&gt; v (<a href="../primitive-0.6.1.0/Control-Monad-Primitive.html#t:PrimState">PrimState</a> m) e -&gt; m ()</li><li class="src short"><span class="keyword">class</span> <a href="#t:Lexicographic">Lexicographic</a> e <span class="keyword">where</span><ul class="subs"><li><a href="#v:terminate">terminate</a> :: e -&gt; <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a></li><li><a href="#v:size">size</a> :: e -&gt; <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a></li><li><a href="#v:index">index</a> :: <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a> -&gt; e -&gt; <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a></li></ul></li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a name="v:sort" class="def">sort</a> :: <span class="keyword">forall</span> e m v. (<a href="../primitive-0.6.1.0/Control-Monad-Primitive.html#t:PrimMonad">PrimMonad</a> m, <a href="../vector-0.11.0.0/Data-Vector-Generic-Mutable-Base.html#t:MVector">MVector</a> v e, <a href="Data-Vector-Algorithms-AmericanFlag.html#t:Lexicographic">Lexicographic</a> e, <a href="../base-4.8.2.0/Data-Ord.html#t:Ord">Ord</a> e) =&gt; v (<a href="../primitive-0.6.1.0/Control-Monad-Primitive.html#t:PrimState">PrimState</a> m) e -&gt; m ()</p><div class="doc"><p>Sorts an array using the default ordering. Both Lexicographic and
 Ord are necessary because the algorithm falls back to insertion sort
 for sufficiently small arrays.</p></div></div><div class="top"><p class="src"><a name="v:sortBy" class="def">sortBy</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="../primitive-0.6.1.0/Control-Monad-Primitive.html#t:PrimMonad">PrimMonad</a> m, <a href="../vector-0.11.0.0/Data-Vector-Generic-Mutable-Base.html#t:MVector">MVector</a> v e)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Data-Vector-Algorithms-Search.html#t:Comparison">Comparison</a> e</td><td class="doc"><p>a comparison for the insertion sort flalback</p></td></tr><tr><td class="src">-&gt; (e -&gt; <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a>)</td><td class="doc"><p>determines whether a stripe is complete</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>the number of buckets necessary</p></td></tr><tr><td class="src">-&gt; (<a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a> -&gt; e -&gt; <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>)</td><td class="doc"><p>the big-endian radix function</p></td></tr><tr><td class="src">-&gt; v (<a href="../primitive-0.6.1.0/Control-Monad-Primitive.html#t:PrimState">PrimState</a> m) e</td><td class="doc"><p>the array to be sorted</p></td></tr><tr><td class="src">-&gt; m ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>A fully parameterized version of the sorting algorithm. Again, this
 function takes both radix information and a comparison, because the
 algorithms falls back to insertion sort for small arrays.</p></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:Lexicographic" class="def">Lexicographic</a> e <span class="keyword">where</span></p><div class="doc"><p>The methods of this class specify the information necessary to sort
 arrays using the default ordering. The name <code><a href="Data-Vector-Algorithms-AmericanFlag.html#t:Lexicographic">Lexicographic</a></code> is meant
 to convey that index should return results in a similar way to indexing
 into a string.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:terminate" class="def">terminate</a> :: e -&gt; <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a></p><div class="doc"><p>Given a representative of a stripe and an index number, this
 function should determine whether to stop sorting.</p></div><p class="src"><a name="v:size" class="def">size</a> :: e -&gt; <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a></p><div class="doc"><p>The size of the bucket array necessary for sorting es</p></div><p class="src"><a name="v:index" class="def">index</a> :: <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a> -&gt; e -&gt; <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a></p><div class="doc"><p>Determines which bucket a given element should inhabit for a
 particular iteration.</p></div></div><div class="subs instances"><p id="control.i:Lexicographic" class="caption collapser" onclick="toggleSection('i:Lexicographic')">Instances</p><div id="section.i:Lexicographic" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="Data-Vector-Algorithms-AmericanFlag.html#t:Lexicographic">Lexicographic</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Data-Vector-Algorithms-AmericanFlag.html#t:Lexicographic">Lexicographic</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int8">Int8</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Data-Vector-Algorithms-AmericanFlag.html#t:Lexicographic">Lexicographic</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int16">Int16</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Data-Vector-Algorithms-AmericanFlag.html#t:Lexicographic">Lexicographic</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int32">Int32</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Data-Vector-Algorithms-AmericanFlag.html#t:Lexicographic">Lexicographic</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int64">Int64</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Data-Vector-Algorithms-AmericanFlag.html#t:Lexicographic">Lexicographic</a> <a href="../base-4.8.2.0/Data-Word.html#t:Word">Word</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Data-Vector-Algorithms-AmericanFlag.html#t:Lexicographic">Lexicographic</a> <a href="../base-4.8.2.0/Data-Word.html#t:Word8">Word8</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Data-Vector-Algorithms-AmericanFlag.html#t:Lexicographic">Lexicographic</a> <a href="../base-4.8.2.0/Data-Word.html#t:Word16">Word16</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Data-Vector-Algorithms-AmericanFlag.html#t:Lexicographic">Lexicographic</a> <a href="../base-4.8.2.0/Data-Word.html#t:Word32">Word32</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Data-Vector-Algorithms-AmericanFlag.html#t:Lexicographic">Lexicographic</a> <a href="../base-4.8.2.0/Data-Word.html#t:Word64">Word64</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Data-Vector-Algorithms-AmericanFlag.html#t:Lexicographic">Lexicographic</a> <a href="../bytestring-0.10.6.0/Data-ByteString.html#t:ByteString">ByteString</a></span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.1</p></div></body></html>